

<div class="text-2xl bg-linear-to-r from-pink-200 via-rose-300 to-red-300 border-4 gap-3 border-b-amber-950 rounded-3xl m-2 mr-2 overflow-y-auto p-2 flex h-screen">

  <!-- Left Panel -->
  <div class="border-2 bg-blue-100 border-amber-50 text-2xl w-1/5">
    <h2>Chat</h2>
  </div>

  <!-- Right Panel -->
  <div class="relative grow bg-white/20 rounded-3xl overflow-hidden">
    
    <!-- Chat Messages -->
    <div class="flex flex-col overflow-y-auto h-full p-3 pb-40">
      
      <!-- Existing chat history -->
      <div *ngFor="let chat of chatdata" class="flex flex-col gap-2 mb-3 p-2">
        <div class="flex justify-end">
          <p class="text-black text-2xl border-2 border-b-emerald-950 rounded-2xl w-fit p-2 bg-emerald-100">
            {{ chat.user }}
          </p>
        </div>
        <div class="text-left text-2xl border-2 border-b-emerald-950 bg-linear-to-r from-cyan-50 via-blue-100 to-indigo-200
          text-black rounded-2xl w-fit p-2 leading-relaxed whitespace-pre-wrap">
          {{ chat.answer }}
        </div>
      </div>

      <!-- ğŸ‘‡ Loading message (shown only while AI is generating) -->
      <div *ngIf="isLoading"
        class="text-left text-2xl border-2 border-b-emerald-950 bg-linear-to-r from-cyan-50 via-blue-100 to-indigo-200
        text-black rounded-2xl w-fit p-2 leading-relaxed whitespace-pre-wrap animate-pulse">
        Generating Content...
      </div>

    </div>

    <!-- Input Area -->
    <div class="absolute bottom-[0%] left-0 w-full p-3 flex flex-col sm:flex-row items-center gap-3 rounded-t-2xl bg-blue-50">
      <input
        type="text"
        [(ngModel)]="apiinput"
        placeholder="Ask Gemini something"
        class="w-full sm:flex-1 text-center h-14 bg-white text-xl border-2 rounded-3xl border-black text-black px-4 hover:shadow-[-6px_31px_55px_30px_rgba(59,_130,_246,_0.5)]"
      />
      <button
        (click)="askAi()"
        class="bg-blue-400 rounded-3xl px-6 h-14 text-white text-lg hover:bg-blue-500 transition w-full sm:w-auto"
      >
        {{ isLoading ? 'Generating...' : 'Send' }}
      </button>
    </div>
  </div>
</div>

